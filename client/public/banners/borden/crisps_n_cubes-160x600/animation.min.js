function cycleProducts(t,e){t++,e++,t>2&&(t=0);var o,a;switch(t){case 0:o=document.querySelector(".end-product-purple"),a=document.querySelector(".end-product-green");break;case 1:o=document.querySelector(".end-product-green"),a=document.querySelector(".end-product-orange");break;case 2:o=document.querySelector(".end-product-orange"),a=document.querySelector(".end-product-purple")}TweenMax.set(a,{x:160}),0==userInteraction?e<6?(TweenMax.to(a,1,{x:0,ease:Power2.easeInOut,delay:1,onComplete:cycleProducts,onCompleteParams:[t,e]}),TweenMax.to(o,1,{x:-160,ease:Power2.easeInOut,delay:1})):playedOnce=!0:(TweenMax.to(a,1,{x:0,ease:Power2.easeInOut,delay:1,onComplete:cycleProducts,onCompleteParams:[t,e]}),TweenMax.to(o,1,{x:-160,ease:Power2.easeInOut,delay:1}))}function initLooping(){userInteraction=!0,cycleProducts(-1,-1)}function initCrisps(){var t=document.createElement("div");t.classList.add("crisp-container"),t.classList.add("float"),document.querySelector(".stage").appendChild(t);for(var e=0;e<crispPositions.length;e++){var o=document.createElement("div");o.classList.add("crisp"),o.classList.add("float");var a=document.createElement("div");a.classList.add("png-element");var r=Math.floor(3*Math.random())+1;a.classList.add("crisp-"+r);var s=document.createElement("div");s.classList.add("png-element"),s.classList.add("crisp-shadow"),o.appendChild(s),o.appendChild(a),t.appendChild(o),TweenMax.set(o,{x:crispPositions[e].left,y:crispPositions[e].top,rotation:360*Math.random(),autoAlpha:0}),maintl.to(o,.01,{autoAlpha:1,delay:.015*e},"frame3+=.25")}}function moveCrisps(){for(var t={x:bannerWidth/2-47,y:bannerHeight/2-47},e=[].slice.call(document.querySelectorAll(".crisp")),o=e.sort(function(e,o){var a=t.x-e._gsTransform.x,r=t.y-e._gsTransform.y,s=Math.sqrt(Math.abs(a*a+r*r)),n=t.x-o._gsTransform.x,l=t.y-o._gsTransform.y,i=Math.sqrt(Math.abs(n*n+l*l));return s-i}),a=0;a<o.length;a++){var r=o[a],s=t.x-r._gsTransform.x,n=t.y-r._gsTransform.y,l=Math.sqrt(Math.abs(s*s+n*n)),i=s/l,f=n/l;TweenMax.set(r,{zIndex:o.length-a+20}),l<100&&(maintl.to(r,.15,{x:"+="+i*(l-130),y:"+="+f*(l-130),ease:Power0.easeNone,delay:.1*a},"frame3+=1.25"),maintl.to(r,.6,{z:500,rotationX:5*Math.random()+1e3,rotationZ:180,ease:Power0.easeNone},"frame3+=1.25")),maintl.to(r,.25,{x:"+="+i*(l-600),y:"+="+f*(l-600),delay:.005*a,ease:Power2.easeInOut},"frame3+=2.25")}}function initCrumbs(){var t=document.createElement("div");t.classList.add("crumbs-container"),t.classList.add("float"),document.querySelector(".stage").appendChild(t);for(var e=0;e<crumbsPostions.length;e++){var o=document.createElement("div");o.classList.add("png-element"),o.classList.add("crumb");var a=Math.floor(2*Math.random())+3;o.classList.add("breakpiece-"+a),t.appendChild(o),TweenMax.set(o,{x:crumbsPostions[e].left,y:crumbsPostions[e].top,scale:.3*Math.random()+.5,rotation:360*Math.random(),autoAlpha:0})}}function moveCrumbs(){for(var t={x:bannerWidth/2-12,y:bannerHeight/2-12},e=[].slice.call(document.querySelectorAll(".crumb")),o=0;o<e.length;o++){var a=e[o],r=t.x-a._gsTransform.x,s=t.y-a._gsTransform.y,n=Math.sqrt(Math.abs(r*r+s*s)),l=r/n,i=s/n;maintl.set(a,{autoAlpha:1},"frame4+=0"),maintl.from(a,.15,{x:"+="+l*(n-60),y:"+="+i*(n-60),delay:.01*o,rotation:360*Math.random(),ease:Power2.easeOut},"frame3+=0"),maintl.from(a,.4,{delay:.01*o,rotation:90*Math.random(),ease:Power2.easeOut},"frame4+=0"),maintl.from(a,.5,{delay:.01*o,scale:.5*Math.random()+1,ease:Bounce.easeOut},"frame4+=0"),maintl.to(a,.15,{x:"+="+l*(n-600),y:"+="+i*(n-200),delay:.01*o,rotation:360*Math.random(),ease:Power2.easeInOut,autoAlpha:0},"frame3+=2.25")}}function initCubes(){var t=document.createElement("div");t.classList.add("cube-container"),t.classList.add("float"),document.querySelector(".stage").appendChild(t);for(var e=0;e<cubesPostions.length;e++){var o=document.createElement("div");o.classList.add("png-element"),o.classList.add("cube");var a=Math.floor(4*Math.random())+1;o.classList.add("cube-"+a),t.appendChild(o),TweenMax.set(o,{x:cubesPostions[e].left,y:cubesPostions[e].top,rotation:cubesPostions[e].rotation,autoAlpha:0}),maintl.to(o,.01,{autoAlpha:1,delay:.02*e},"frame5+=1")}maintl.to(".cube-container",.5,{x:-360,ease:Power2.easeIn},"frame5+=2.5")}var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";function t(t,e,o,a){return o=parseFloat(o)-parseFloat(t),a=parseFloat(a)-parseFloat(e),Math.sqrt(o*o+a*a)}function e(t){return"string"!=typeof t&&t.nodeType||(t=_gsScope.TweenLite.selector(t),t.length&&(t=t[0])),t}function o(t,e,o){var a,r,s=t.indexOf(" ");return-1===s?(a=void 0!==o?o+"":t,r=t):(a=t.substr(0,s),r=t.substr(s+1)),a=-1!==a.indexOf("%")?parseFloat(a)/100*e:parseFloat(a),r=-1!==r.indexOf("%")?parseFloat(r)/100*e:parseFloat(r),a>r?[r,a]:[a,r]}function a(o){if(!o)return 0;o=e(o);var a,r,s,n,l,i,f,p,u=o.tagName.toLowerCase();if("path"===u)l=o.style.strokeDasharray,o.style.strokeDasharray="none",a=o.getTotalLength()||0,r=o.getBBox(),o.style.strokeDasharray=l;else if("rect"===u)r=o.getBBox(),a=2*(r.width+r.height);else if("circle"===u)a=2*Math.PI*parseFloat(o.getAttribute("r"));else if("line"===u)a=t(o.getAttribute("x1"),o.getAttribute("y1"),o.getAttribute("x2"),o.getAttribute("y2"));else if("polyline"===u||"polygon"===u)for(s=o.getAttribute("points").split(" "),a=0,l=s[0].split(","),"polygon"===u&&(s.push(s[0]),-1===s[0].indexOf(",")&&s.push(s[1])),i=1;i<s.length;i++)n=s[i].split(","),1===n.length&&(n[1]=s[i++]),2===n.length&&(a+=t(l[0],l[1],n[0],n[1])||0,l=n);else"ellipse"===u&&(f=parseFloat(o.getAttribute("rx")),p=parseFloat(o.getAttribute("ry")),a=Math.PI*(3*(f+p)-Math.sqrt((3*f+p)*(f+3*p))));return a||0}function r(t,o){if(!t)return[0,0];t=e(t),o=o||a(t)+1;var r=n(t),s=r.strokeDasharray||"",l=parseFloat(r.strokeDashoffset),i=s.indexOf(",");return 0>i&&(i=s.indexOf(" ")),s=0>i?o:parseFloat(s.substr(0,i))||1e-5,s>o&&(s=o),[Math.max(0,-l),Math.max(0,s-l)]}var s,n=document.defaultView?document.defaultView.getComputedStyle:function(){};s=_gsScope._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.0.7",global:!0,overwriteProps:["drawSVG"],init:function(t,e,s){if(!t.getBBox)return!1;var n,l,i,f=a(t)+1;return this._style=t.style,e===!0||"true"===e?e="0 100%":e?-1===(e+"").indexOf(" ")&&(e="0 "+e):e="0 0",n=r(t,f),l=o(e,f,n[0]),this._length=f+10,0===n[0]&&0===l[0]?(i=Math.max(1e-5,l[1]-f),this._dash=f+i,this._offset=f-n[1]+i,this._addTween(this,"_offset",this._offset,f-l[1]+i,"drawSVG")):(this._dash=n[1]-n[0]||1e-6,this._offset=-n[0],this._addTween(this,"_dash",this._dash,l[1]-l[0]||1e-5,"drawSVG"),this._addTween(this,"_offset",this._offset,-l[0],"drawSVG")),!0},set:function(t){this._firstPT&&(this._super.setRatio.call(this,t),this._style.strokeDashoffset=this._offset,1===t||0===t?this._style.strokeDasharray=this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._style.strokeDasharray=this._dash+"px,"+this._length+"px")}}),s.getLength=a,s.getPosition=r}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();var maintl,bannerWidth=160,bannerHeight=600,crispPositions,cubePositions,userInteraction=!1,playedOnce=!1;TweenMax.set(".red-bar-background",{x:-bannerWidth,y:bannerHeight-93}),TweenMax.set(".end-product-green, .end-product-orange",{x:160}),TweenMax.set(".startCrumb-1, .startCrumb-2, .startCrumb-3, .startCrumb-4, .startCrumb-5, .cube-0, .text-4, .end-product-left, .end-product-right",{autoAlpha:0}),function(){maintl=new TimelineMax,maintl.add("frame0",0).to(".stage",.05,{autoAlpha:1}).add("frame1","+=.25").to(".red-bar-background",.5,{x:0,ease:Power2.easeOut},"frame1+=0").from(".product-start",.5,{y:bannerHeight,ease:Power2.easeOut},"frame1+=.25").staggerFrom(".text-start",1,{width:0,ease:Power2.easeOut},.2,"frame1+=.5").from(".cta-button",.5,{left:9,width:0,ease:Power2.easeOut},"frame1+=1.25").add("frame2","+=1.3").to(".red-bar-background",.5,{y:0,ease:Power2.easeInOut},"frame2+=0").to(".product-start",.5,{x:-bannerWidth,ease:Power2.easeInOut},"frame2").to(".text-start",.5,{x:bannerWidth,ease:Power2.easeInOut},"frame2").to(".cta-button",.5,{y:bannerHeight,ease:Power2.easeInOut},"frame2").from(".startCrumb-0, .logo",.5,{y:"+=600",ease:Power2.easeInOut},"frame2+=0").to(".startCrumb-0",.25,{y:-47,ease:Power2.easeInOut},"frame2+=.5").from(".crisp100",.25,{scale:0,ease:Back.easeOut,transformOrigin:"50% 50%"},"frame2+=.5").set(".cta-button",{x:0,y:0,autoAlpha:0},"frame2+=1").set(".startCrumb-0",{autoAlpha:0},"frame2+=1.25").set(".startCrumb-1, .startCrumb-2, .startCrumb-3, .startCrumb-4, .startCrumb-5, .logo",{autoAlpha:1},"frame2+=1.25").from(".startCrumb-3",.03,{x:"-=5",y:"-=8",rotation:45,ease:Power2.easeInOut},"frame2+=1.25").from(".startCrumb-4",.03,{x:"-=7",y:"-=5",rotation:45,ease:Power2.easeInOut},"frame2+=1.25").from(".startCrumb-5",.03,{x:"-=3",y:"-=2",rotation:45,ease:Power2.easeInOut},"frame2+=1.25").from(".crispLine",.5,{drawSVG:"0%",ease:Power2.easeOut},"frame2+=.8").from(".crispPoint",.25,{drawSVG:"0%",ease:Power2.easeOut},"frame2+=1.2").add("frame3","+=1").add("frame4","+=2.25").set(".crisp100",{autoAlpha:0},"frame4").set(".startCrumb",{autoAlpha:0},"frame4").set(".cube-0",{autoAlpha:1},"frame4").to(".cube-0",.25,{y:50,ease:Power2.easeOut},"frame4+=1.25").from(".cube100",.25,{scale:0,ease:Back.easeOut,transformOrigin:"50% 50%"},"frame4+=1.25").from(".cubeLine",.5,{drawSVG:"0%",ease:Power2.easeOut},"frame4+=1.3").from(".cubePoint",.25,{drawSVG:"0%",ease:Power2.easeOut},"frame4+=1.6").add("frame5","+=.25").add("frame6","+=1.85").set(".cube100",{autoAlpha:0},"frame6").set(".startCrumb-0",{autoAlpha:1,x:0,y:-28,scale:1},"frame6").set(".cube-0",{y:91},"frame6").set(".text-4",{autoAlpha:1},"frame6").add("frame7","+=2.6").to(".red-bar-background, .logo",.5,{y:bannerHeight-93,ease:Power2.easeInOut},"frame7+=0").to(".startCrumb-0, .cube-0, .text-4",.5,{y:bannerHeight,ease:Power2.easeInOut},"frame7+=0").add("frame8","+=0").from(".end-product-purple",.5,{y:bannerHeight,ease:Power2.easeOut,onComplete:cycleProducts,onCompleteParams:[-1,-1]},"frame8+=0").from(".endframe",.5,{autoAlpha:0},"frame8+=0.5").to(".cta-button",.5,{autoAlpha:1},"frame8+=0.5").seek(0)}(),crispPositions=[{top:-28,left:-10},{top:-28,left:114},{top:44,left:-11},{top:63.50080108642578,left:93.50080108642578},{top:432.152400970459,left:12.84759521484375},{top:41.838401794433594,left:-25.161602020263672},{top:349.44122314453125,left:-50.55880355834961},{top:530.585205078125,left:-54.41480255126953},{top:548.248046875,left:99.24800109863281},{top:-22.679601669311523,left:30.32040023803711},{top:17.43400001525879,left:90.43400573730469},{top:26.811599731445312,left:43.81159973144531},{top:520.4639892578125,left:25.464000701904297},{top:463.40240478515625,left:92.40240478515625},{top:486.2239990234375,left:37.2239990234375},{top:465.5760192871094,left:-26.424001693725586},{top:571.8316040039062,left:39.16840171813965},{top:102.79399871826172,left:107.79400634765625},{top:91.6028060913086,left:-5.602802276611328},{top:416.02001953125,left:-33.980003356933594},{top:393.5948181152344,left:109.59480285644531},{top:430.40478515625,left:56.40480041503906},{top:126.6736068725586,left:-52.32640075683594},{top:160.93679809570312,left:141.93679809570312},{top:195.0712127685547,left:-67.92880249023438},{top:252.54800415039062,left:148.54800415039062},{top:267.9852294921875,left:-38.01480102539062},{top:389.401611328125,left:34.40160369873047},{top:501,left:91},{top:582,left:-3},{top:-31,left:70},{top:110,left:45},{top:324,left:137},{top:144.44920349121094,left:-21.550800323486328},{top:320.1684265136719,left:94.16840362548828},{top:319.9652099609375,left:-6.034800052642822},{top:162.97280883789062,left:67.9728012084961},{top:216.23240661621094,left:-40.767601013183594},{top:183.7407989501953,left:75.74080657958984},{top:206.7220001220703,left:28.722000122070312},{top:226.1092071533203,left:92.10919952392578},{top:245.485595703125,left:.48559999465942383},{top:198.8155975341797,left:46.81560134887695},{top:338,left:28},{top:290,left:40},{top:304.49761962890625,left:93.49760437011719}],cubesPostions=[{top:20.602109909057617,left:-21.397489547729492,rotation:130.0767301162439},{top:281.6687927246094,left:81.66838836669922,rotation:82.0219258339559},{top:81.3601303100586,left:-106.6398696899414,rotation:221.24766938975094},{top:-54.5210075378418,left:-49.52101135253906,rotation:14.691499203821161},{top:105.80278778076172,left:-6.1972198486328125,rotation:163.31275273831028},{top:165.8802490234375,left:-82.1197509765625,rotation:190.98699217739443},{top:458.1726989746094,left:.1723099946975708,rotation:206.45664012986265},{top:444.5389709472656,left:-69.46105194091797,rotation:142.96844470486005},{top:469.0758972167969,left:80.07628631591797,rotation:21.46998504442471},{top:490.570556640625,left:-40.4294319152832,rotation:71.5441400521695},{top:516.6212768554688,left:26.621240615844727,rotation:298.32811410991917},{top:55.55902862548828,left:62.55902862548828,rotation:338.05231161888753},{top:139.26577758789062,left:4.2657790184021,rotation:41.81471620172224},{top:195.1339111328125,left:63.134307861328125,rotation:234.40714846826737},{top:13.428149223327637,left:111.42815399169922,rotation:13.310141566959421},{top:205.4854736328125,left:-54.51453399658203,rotation:52.82751202455847},{top:259.0088424682617,left:-3.9911651611328,rotation:60.8497036966065},{top:379.4713439941406,left:-54.528663635253906,rotation:247.97124137658693},{top:314.1188049316406,left:22.11880111694336,rotation:341.17266134869675},{top:337.9085388183594,left:71.90855407714844,rotation:7.832785372296627},{top:365.4583435058594,left:32.457942962646484,rotation:281.9261521707708},{top:-43.80792999267578,left:65.19207000732422,rotation:331.11545611450885},{top:282.8863830566406,left:-45.11341857910156,rotation:126.1638328964884},{top:86.74374389648438,left:-97.25625610351562,rotation:151.82567653649625},{top:-30.77585220336914,left:121.2241439819336,rotation:300.21001487796354},{top:351.5531311035156,left:-27.446670532226562,rotation:99.28087532901132},{top:373.3437194824219,left:79.34370422363281,rotation:35.135522427706974},{top:2.8742806911468506,left:24.87428092956543,rotation:55.935997902906244},{top:75.8824691772461,left:-7.117539882659912,rotation:355.0754368382628},{top:413.34234619140625,left:-7.657689571380615,rotation:198.64353672640274},{top:420.9931640625,left:75.99316024780273,rotation:32.08730105128236},{top:148.01023864746094,left:69.01024627685547,rotation:72.69676092122802},{top:62.031429290771484,left:-1.9685701131820679,rotation:99.60768283610233},{top:92.25700378417969,left:-51.74300003051758,rotation:293.1918471085097},{top:-43.88296127319336,left:-28.882959365844727,rotation:226.97735240260343},{top:124.21805572509766,left:83.21804809570312,rotation:42.14515618106552},{top:32.69242858886719,left:61.69243240356445,rotation:276.18225016123927},{top:203.9842529296875,left:6.984250068664551,rotation:173.40309188797477},{top:-5.611480236053467,left:-49.611480712890625,rotation:348.69048367459493},{top:-5.277790069580078,left:65.72221374511719,rotation:214.35928735411426},{top:32.96186065673828,left:-76.03813934326172,rotation:324.01395715171674},{top:209.264404296875,left:100.26480865478516,rotation:355.85283002090347},{top:129.7830352783203,left:-42.21696090698242,rotation:39.362891035066525},{top:-7.696070194244385,left:48.303932189941406,rotation:83.59115502264589},{top:117.24544525146484,left:108.24544525146484,rotation:107.91022248649378},{top:70.65401077270508,left:138.3459930419922,rotation:91.38736378806956},{top:153.74139404296875,left:-35.258602142333984,rotation:250.85809682129658},{top:-91.8638687133789,left:36.136131286621094,rotation:305.5878356608127},{top:-67.50636291503906,left:17.493640899658203,rotation:193.26465076370926},{top:95.72473907470703,left:75.72473907470703,rotation:258.2510460343007},{top:253.98690795898438,left:41.98692321777344,rotation:175.69807825434583},{top:126.59444427490234,left:93.59445190429688,rotation:126.88747126988513},{top:135.36199951171875,left:39.36199951171875,rotation:72.1829099442026},{top:534.8248901367188,left:91.82463073730469,rotation:95.52829222363401},{top:531.3444213867188,left:-43.65563201904297,rotation:74.47745206119214}],crumbsPostions=[{top:382.1780700683594,left:107.91643524169922},{top:354.2367858886719,left:59.69889450073242},{top:229.4234161376953,left:141.67564392089844},{top:182.64512634277344,left:116.7718734741211},{top:188.5676727294922,left:57.63407516479492},{top:291.3394775390625,left:-.27090999484062195},{top:200.8965301513672,left:58.63790512084961},{top:193.7554168701172,left:74.14260864257812},{top:315.106201171875,left:128.77024841308594}],document.querySelector(".cta-button").addEventListener("mouseover",function(){TweenMax.to(".cta-rollover",.4,{autoAlpha:1,ease:Power2.easeOut}),0==userInteraction&&(userInteraction=!0),1==playedOnce&&initLooping()}),document.querySelector(".cta-button").addEventListener("mouseout",function(){TweenMax.to(".cta-rollover",.4,{autoAlpha:0,ease:Power2.easeOut})}),initCrumbs(),moveCrumbs(),initCrisps(),moveCrisps(),initCubes();