function cycleProducts(e,t){e++,t++,e>2&&(e=0);var a,o,r;switch(e){case 0:o=document.querySelector(".end-product-green"),r=document.querySelector(".end-product-orange"),a=document.querySelector(".end-product-purple");break;case 1:o=document.querySelector(".end-product-orange"),r=document.querySelector(".end-product-purple"),a=document.querySelector(".end-product-green");break;case 2:o=document.querySelector(".end-product-purple"),r=document.querySelector(".end-product-green"),a=document.querySelector(".end-product-orange")}0==userInteraction?t<6?(TweenMax.to(a,1,{x:-26,y:5,transformOrigin:"50% 0%",ease:Back.easeInOut,delay:1,zIndex:19,onComplete:cycleProducts,onCompleteParams:[e,t]}),TweenMax.to(o,1,{x:0,y:0,transformOrigin:"50% 0%",ease:Back.easeInOut,delay:1,zIndex:20}),TweenMax.to(r,1,{x:28,y:5,transformOrigin:"50% 0%",ease:Back.easeInOut,delay:1,zIndex:18})):playedOnce=!0:(TweenMax.to(a,1,{x:-26,y:5,transformOrigin:"50% 0%",ease:Back.easeInOut,delay:1,zIndex:19,onComplete:cycleProducts,onCompleteParams:[e,t]}),TweenMax.to(o,1,{x:0,y:0,transformOrigin:"50% 0%",ease:Back.easeInOut,delay:1,zIndex:20}),TweenMax.to(r,1,{x:28,y:5,transformOrigin:"50% 0%",ease:Back.easeInOut,delay:1,zIndex:18}))}function initLooping(){userInteraction=!0,cycleProducts(-1,-1)}function initCrisps(){var e=document.createElement("div");e.classList.add("crisp-container"),e.classList.add("float"),document.querySelector(".stage").appendChild(e);for(var t=0;t<crispPositions.length;t++){var a=document.createElement("div");a.classList.add("crisp"),a.classList.add("float");var o=document.createElement("div");o.classList.add("png-element");var r=Math.floor(3*Math.random())+1;o.classList.add("crisp-"+r);var s=document.createElement("div");s.classList.add("png-element"),s.classList.add("crisp-shadow"),a.appendChild(s),a.appendChild(o),e.appendChild(a),TweenMax.set(a,{x:crispPositions[t].left,y:crispPositions[t].top,rotation:360*Math.random(),autoAlpha:0}),maintl.to(a,.01,{autoAlpha:1,delay:.015*t},"frame3+=.25")}}function moveCrisps(){for(var e={x:bannerWidth/2-40,y:bannerHeight/2-40},t=[].slice.call(document.querySelectorAll(".crisp")),a=t.sort(function(t,a){var o=e.x-t._gsTransform.x,r=e.y-t._gsTransform.y,s=Math.sqrt(Math.abs(o*o+r*r)),n=e.x-a._gsTransform.x,i=e.y-a._gsTransform.y,l=Math.sqrt(Math.abs(n*n+i*i));return s-l}),o=0;o<a.length;o++){var r=a[o],s=e.x-r._gsTransform.x,n=e.y-r._gsTransform.y,i=Math.sqrt(Math.abs(s*s+n*n)),l=s/i,u=n/i;TweenMax.set(r,{zIndex:a.length-o+20}),i<100&&(maintl.to(r,.15,{x:"+="+l*(i-130),y:"+="+u*(i-130),ease:Power0.easeNone,delay:.1*o},"frame3+=1.25"),maintl.to(r,.6,{z:500,rotationX:5*Math.random()+1e3,rotationZ:180,ease:Power0.easeNone},"frame3+=1.25")),maintl.to(r,.25,{x:"+="+l*(i-bannerWidth),y:"+="+u*(i-250),delay:.005*o,ease:Power2.easeInOut},"frame3+=2.25")}}function initCrumbs(){var e=document.createElement("div");e.classList.add("crumbs-container"),e.classList.add("float"),document.querySelector(".stage").appendChild(e);for(var t=0;t<crumbsPostions.length;t++){var a=document.createElement("div");a.classList.add("png-element"),a.classList.add("crumb");var o=Math.floor(2*Math.random())+3;a.classList.add("breakpiece-"+o),e.appendChild(a),TweenMax.set(a,{x:crumbsPostions[t].left,y:crumbsPostions[t].top,scale:.3*Math.random()+.5,rotation:360*Math.random(),autoAlpha:0})}}function moveCrumbs(){for(var e={x:bannerWidth/2-12,y:bannerHeight/2-12},t=[].slice.call(document.querySelectorAll(".crumb")),a=0;a<t.length;a++){var o=t[a],r=e.x-o._gsTransform.x,s=e.y-o._gsTransform.y,n=Math.sqrt(Math.abs(r*r+s*s)),i=r/n,l=s/n;maintl.set(o,{autoAlpha:1},"frame4+=0"),maintl.from(o,.15,{x:"+="+i*(n-60),y:"+="+l*(n-60),delay:.01*a,rotation:360*Math.random(),ease:Power2.easeOut},"frame4+=0"),maintl.from(o,.4,{delay:.01*a,rotation:90*Math.random(),ease:Power2.easeOut},"frame4+=0"),maintl.from(o,.5,{delay:.01*a,scale:.5*Math.random()+.25,ease:Bounce.easeOut},"frame4+=0"),maintl.to(o,.15,{x:"+="+i*(n-728),y:"+="+l*(n-200),delay:.01*a,rotation:360*Math.random(),ease:Power2.easeInOut},"frame4+=1")}}function initCubes(){var e=document.createElement("div");e.classList.add("cube-container"),e.classList.add("float"),document.querySelector(".stage").appendChild(e);for(var t=0;t<cubesPostions.length;t++){var a=document.createElement("div");a.classList.add("png-element"),a.classList.add("cube");var o=Math.floor(4*Math.random())+1;a.classList.add("cube-"+o),e.appendChild(a),TweenMax.set(a,{x:cubesPostions[t].left,y:cubesPostions[t].top,rotation:cubesPostions[t].rotation,autoAlpha:0}),maintl.to(a,.01,{autoAlpha:1,delay:.02*t},"frame5+=1")}maintl.to(".cube-container",.5,{x:-bannerWidth-80,ease:Power2.easeIn},"frame5+=2")}var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";function e(e,t,a,o){return a=parseFloat(a)-parseFloat(e),o=parseFloat(o)-parseFloat(t),Math.sqrt(a*a+o*o)}function t(e){return"string"!=typeof e&&e.nodeType||(e=_gsScope.TweenLite.selector(e),e.length&&(e=e[0])),e}function a(e,t,a){var o,r,s=e.indexOf(" ");return-1===s?(o=void 0!==a?a+"":e,r=e):(o=e.substr(0,s),r=e.substr(s+1)),o=-1!==o.indexOf("%")?parseFloat(o)/100*t:parseFloat(o),r=-1!==r.indexOf("%")?parseFloat(r)/100*t:parseFloat(r),o>r?[r,o]:[o,r]}function o(a){if(!a)return 0;a=t(a);var o,r,s,n,i,l,u,f,d=a.tagName.toLowerCase();if("path"===d)i=a.style.strokeDasharray,a.style.strokeDasharray="none",o=a.getTotalLength()||0,r=a.getBBox(),a.style.strokeDasharray=i;else if("rect"===d)r=a.getBBox(),o=2*(r.width+r.height);else if("circle"===d)o=2*Math.PI*parseFloat(a.getAttribute("r"));else if("line"===d)o=e(a.getAttribute("x1"),a.getAttribute("y1"),a.getAttribute("x2"),a.getAttribute("y2"));else if("polyline"===d||"polygon"===d)for(s=a.getAttribute("points").split(" "),o=0,i=s[0].split(","),"polygon"===d&&(s.push(s[0]),-1===s[0].indexOf(",")&&s.push(s[1])),l=1;l<s.length;l++)n=s[l].split(","),1===n.length&&(n[1]=s[l++]),2===n.length&&(o+=e(i[0],i[1],n[0],n[1])||0,i=n);else"ellipse"===d&&(u=parseFloat(a.getAttribute("rx")),f=parseFloat(a.getAttribute("ry")),o=Math.PI*(3*(u+f)-Math.sqrt((3*u+f)*(u+3*f))));return o||0}function r(e,a){if(!e)return[0,0];e=t(e),a=a||o(e)+1;var r=n(e),s=r.strokeDasharray||"",i=parseFloat(r.strokeDashoffset),l=s.indexOf(",");return 0>l&&(l=s.indexOf(" ")),s=0>l?a:parseFloat(s.substr(0,l))||1e-5,s>a&&(s=a),[Math.max(0,-i),Math.max(0,s-i)]}var s,n=document.defaultView?document.defaultView.getComputedStyle:function(){};s=_gsScope._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.0.7",global:!0,overwriteProps:["drawSVG"],init:function(e,t,s){if(!e.getBBox)return!1;var n,i,l,u=o(e)+1;return this._style=e.style,t===!0||"true"===t?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",n=r(e,u),i=a(t,u,n[0]),this._length=u+10,0===n[0]&&0===i[0]?(l=Math.max(1e-5,i[1]-u),this._dash=u+l,this._offset=u-n[1]+l,this._addTween(this,"_offset",this._offset,u-i[1]+l,"drawSVG")):(this._dash=n[1]-n[0]||1e-6,this._offset=-n[0],this._addTween(this,"_dash",this._dash,i[1]-i[0]||1e-5,"drawSVG"),this._addTween(this,"_offset",this._offset,-i[0],"drawSVG")),!0},set:function(e){this._firstPT&&(this._super.setRatio.call(this,e),this._style.strokeDashoffset=this._offset,1===e||0===e?this._style.strokeDasharray=this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._style.strokeDasharray=this._dash+"px,"+this._length+"px")}}),s.getLength=o,s.getPosition=r}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();var maintl,bannerWidth=728,bannerHeight=90,crispPositions,cubePositions,userInteraction=!1,playedOnce=!1;TweenMax.set(".red-bar-background",{x:508,y:90}),TweenMax.set(".startCrumb-container",{x:263,y:-73,scale:.8}),TweenMax.set(".cube-0",{x:317,y:-4,scale:.77}),TweenMax.set(".crisp100",{scale:1.3,x:363,y:4}),TweenMax.set(".cube100",{scale:1.3,x:268,y:5}),TweenMax.set(".end-product-green, .end-product-orange, .cta-button, .startCrumb-1, .startCrumb-2, .startCrumb-3, .startCrumb-4, .startCrumb-5, .cube-0, .text-4",{autoAlpha:0}),function(){maintl=new TimelineMax,maintl.add("frame0",0).to(".stage",.05,{autoAlpha:1}).add("frame1","+=.25").to(".red-bar-background",.5,{y:0,ease:Power2.easeOut},"frame1+=0").from(".product-start",.5,{x:bannerWidth,ease:Power2.easeOut},"frame1+=.25").staggerFrom(".text-start",1,{width:0,ease:Power2.easeOut},.2,"frame1+=.5").add("frame2","+=1.3").to(".red-bar-background",.5,{x:0,ease:Power2.easeInOut},"frame2+=0").to(".product-start",.5,{x:bannerWidth,ease:Power2.easeInOut},"frame2").to(".text-start",.5,{x:-bannerWidth,ease:Power2.easeInOut},"frame2").from(".startCrumb-container, .logo",.5,{y:"+=110",ease:Power2.easeInOut},"frame2+=0").to(".startCrumb-container",.25,{x:209,ease:Power2.easeInOut},"frame2+=.5").from(".crisp100",.25,{scale:0,ease:Back.easeOut,transformOrigin:"50% 50%"},"frame2+=.6").set(".startCrumb-0",{autoAlpha:0},"frame2+=1.5").set(".startCrumb-1, .startCrumb-2, .startCrumb-3, .startCrumb-4, .startCrumb-5, .logo",{autoAlpha:1},"frame2+=1.5").from(".startCrumb-3",.03,{x:"-=5",y:"-=8",rotation:45,ease:Power2.easeInOut},"frame2+=1.5").from(".startCrumb-4",.03,{x:"-=7",y:"-=5",rotation:45,ease:Power2.easeInOut},"frame2+=1.5").from(".startCrumb-5",.03,{x:"-=3",y:"-=2",rotation:45,ease:Power2.easeInOut},"frame2+=1.5").from(".crispLine",.5,{drawSVG:"0%",ease:Power2.easeOut},"frame2+=.8").from(".crispPoint",.25,{drawSVG:"0%",ease:Power2.easeOut},"frame2+=1.3").add("frame3","+=1").add("frame4","+=2.25").set(".crisp100",{autoAlpha:0},"frame4").set(".startCrumb",{autoAlpha:0},"frame4").set(".cube-0",{autoAlpha:1},"frame4").to(".cube-0",.25,{x:357,ease:Power2.easeOut},"frame4+=1.25").from(".cube100",.25,{scale:0,ease:Back.easeOut,transformOrigin:"50% 50%"},"frame4+=1.25").from(".cubeLine",.5,{drawSVG:"0%",ease:Power2.easeOut},"frame4+=1.3").from(".cubePoint",.25,{drawSVG:"0%",ease:Power2.easeOut},"frame4+=1.6").add("frame5","+=.25").add("frame6","+=1.75").set(".cube100",{autoAlpha:0},"frame6").set(".startCrumb-0",{autoAlpha:1,x:-301,y:0,scale:1.15},"frame6").set(".cube-0",{x:500,y:-4},"frame6").set(".text-4",{autoAlpha:1},"frame6").add("frame7","+=2.35").to(".startCrumb-0, .cube-0, .text-4",.25,{y:bannerHeight+50,ease:Power2.easeInOut},"frame7+=0").to(".red-bar-background, .logo",.5,{x:508,ease:Power2.easeInOut},"frame7+=.25").add("frame8","+=0").from(".end-product-purple",.5,{y:bannerHeight,ease:Power2.easeOut,transformOrigin:"50% 0%",onComplete:cycleProducts,onCompleteParams:[-1,-1]},"frame8+=0").set(".end-product-green, .end-product-orange",{autoAlpha:1},"frame8+=0.5").to(".end-product-green",.5,{x:28,y:5,transformOrigin:"50% 0%",ease:Power2.easeOut},"frame8+=0.5").to(".end-product-orange",.5,{x:-26,y:5,transformOrigin:"50% 0%",ease:Power2.easeOut},"frame8+=0.5").from(".endframe",.5,{autoAlpha:0},"frame8+=0.5").to(".cta-button",.5,{autoAlpha:1},"frame8+=0.5").seek(0)}(),crispPositions=[{top:-48.36600112915039,left:679.6339721679688},{top:25.352399826049805,left:-44.64760208129883},{top:-45.5348014831543,left:-46.5348014831543},{top:50.05280303955078,left:680.0527954101562},{top:-3.1164000034332275,left:693.8836059570312},{top:5.710400104522705,left:-30.289600372314453},{top:.24639999866485596,left:644.2463989257812},{top:-35.72840118408203,left:6.271600246429443},{top:38.20280075073242,left:17.202800750732422},{top:2.5940001010894775,left:40.59400177001953},{top:-43.44240188598633,left:608.5576171875},{top:35.09600067138672,left:607.0960083007812},{top:-29.150800704956055,left:60.84920120239258},{top:43.141597747802734,left:72.1416015625},{top:-4.973199844360352,left:574.0267944335938},{top:-42.15079879760742,left:121.84919738769531},{top:-14.82800006866455,left:80.1719970703125},{top:-49.41360092163086,left:550.5863647460938},{top:19.191200256347656,left:551.1912231445312},{top:38.12879943847656,left:116.12879943847656},{top:-10.57040023803711,left:132.4296112060547},{top:-7.960399627685547,left:510.03961181640625},{top:-46.82160186767578,left:471.1784362792969},{top:34.123600006103516,left:494.12359619140625},{top:-.21240000426769257,left:455.78759765625},{top:-52.2588005065918,left:165.74119567871094},{top:46.910400390625,left:162.910400390625},{top:4.589200019836426,left:177.58920288085938},{top:38.37120056152344,left:429.3711853027344},{top:-42.085201263427734,left:418.914794921875},{top:-36.23440170288086,left:215.76560974121094},{top:23.38719940185547,left:213.38720703125},{top:-21.332799911499023,left:387.6672058105469},{top:-9.14639949798584,left:254.8535919189453},{top:31.358402252197266,left:279.3583984375},{top:25.511199951171875,left:368.5111999511719},{top:-59.81480026245117,left:297.1852111816406},{top:31.088001251220703,left:331.0879821777344},{top:-53.10960006713867,left:317.8904113769531},{top:-8.847599983215332,left:310.15240478515625}],cubesPostions=[{top:-44,left:-51,rotation:130.0767301162439},{top:16,left:-41,rotation:324.01395715171674},{top:11,left:637,rotation:83.59115502264589},{top:-37,left:645,rotation:91.38736378806956},{top:9,left:579,rotation:193.26465076370926},{top:-44,left:569,rotation:13.310141566959421},{top:-35,left:16,rotation:250.85809682129658},{top:16,left:16,rotation:107.91022248649378},{top:29,left:48,rotation:32.08730105128236},{top:-49,left:62,rotation:91.38736378806956},{top:-13,left:531,rotation:126.88747126988513},{top:0,left:493,rotation:21.46998504442471},{top:-43,left:485,rotation:151.82567653649625},{top:8,left:111,rotation:71.5441400521695},{top:-38,left:114,rotation:52.82751202455847},{top:-11,left:159,rotation:258.2510460343007},{top:0,left:191,rotation:250.85809682129658},{top:0,left:0,rotation:52.82751202455847},{top:9,left:434,rotation:151.82567653649625},{top:-42,left:425,rotation:74.47745206119214},{top:0,left:380,rotation:193.26465076370926},{top:-42,left:196,rotation:298.32811410991917},{top:-17,left:238,rotation:234.40714846826737},{top:17,left:262,rotation:95.52829222363401},{top:-35,left:361,rotation:41.81471620172224},{top:-54,left:255,rotation:338.05231161888753},{top:11,left:300,rotation:175.69807825434583},{top:-49,left:314,rotation:72.1829099442026},{top:-22,left:304,rotation:305.5878356608127}],crumbsPostions=[{top:-3.3196301460266113,left:406.23333740234375},{top:68.48845672607422,left:408.0478515625},{top:-.08233000338077545,left:293.8288269042969},{top:28.20054054260254,left:279.76513671875},{top:-1.7804701328277588,left:384.6546630859375},{top:72.8863754272461,left:374.2303466796875},{top:76.1192855834961,left:286.4769287109375},{top:54.17011642456055,left:312.3792419433594}],document.querySelector(".cta-button").addEventListener("mouseover",function(){TweenMax.to(".cta-rollover",.4,{autoAlpha:1,ease:Power2.easeOut}),0==userInteraction&&(userInteraction=!0),1==playedOnce&&initLooping()}),document.querySelector(".cta-button").addEventListener("mouseout",function(){TweenMax.to(".cta-rollover",.4,{autoAlpha:0,ease:Power2.easeOut})}),initCrumbs(),moveCrumbs(),initCrisps(),moveCrisps(),initCubes();