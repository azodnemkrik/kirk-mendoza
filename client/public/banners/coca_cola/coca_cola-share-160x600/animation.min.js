var maintl,namesArray=["Brad","Cindy","CJ","Melissa","Susan","Dennis","Freddy","Rebecca","Ryan","Audrie","Ra","Anna","Kirk","Kathy","Mae","Devin","Jeremy","Amber","Tristan","Sierra","Benji","Annabelle","Josie","Legend","Captain","Trey","Caleb","Mike"],currentNamesArray=[];!function(){function e(e){if(d.offsetWidth>120){var n=120/d.offsetWidth;TweenMax.set(d,{scale:n,transformOrigin:"0% 50%"})}else TweenMax.set(d,{scale:1,transformOrigin:"0% 50%"});if(null!=e){var a=window.event?window.event:e;"13"==a.keyCode&&r()}}function n(){console.log("clearInstructions called"),d.removeEventListener("focus",n),d.innerHTML="",d.addEventListener("focusout",a),f.className="submit-button enabled",f.addEventListener("click",r)}function a(){console.log("checkInstructions called"),""!=d.innerHTML||(f.className="submit-button",d.addEventListener("focus",n),d.innerHTML="Enter a name...")}function t(){if(y.innerHTML=d.innerHTML,y.offsetWidth>105){var e=105/y.offsetWidth;TweenMax.set(y,{scale:e,transformOrigin:"0% 50%"})}else TweenMax.set(y,{width:110})}function r(){console.log("nameInput.innerHTML: "+d.innerHTML),""==d.innerHTML||"Enter a name..."==d.innerHTML?console.log("NEEDS NAME"):(f.removeEventListener("click",r),d.removeEventListener("keydown",e),v.seek(0).play())}function o(){f.className="submit-button";var e=new TimelineMax;e.add("resetFrame1").to(".buy-your-personalized-can, .hash-tag, .buy-now-button",.5,{autoAlpha:0},"resetFrame1").to(".can-0, .make-another-can-button",.65,{y:600,ease:Power2.easeIn,delay:.5},"resetFrame1").set(".enterName, .input-box",{y:0},"resetFrame1+=1").to(".personalize-your-own-can, .enterName, .input-box",.5,{autoAlpha:1,onStart:s},"resetFrame1+=1.1").seek(0),i()}function s(){if(console.log("starting over"),d.addEventListener("keydown",e),d.innerHTML="",d.innerHTML="Enter a name...",d.offsetWidth>120){var a=120/d.offsetWidth;TweenMax.set(d,{scale:a,transformOrigin:"0% 50%"})}else TweenMax.set(d,{scale:1,transformOrigin:"0% 50%"});d.addEventListener("focus",n),y.innerHTML="",v.seek(0).pause(),maintl.seek(.2).play()}function i(){for(var e=namesArray.slice(0),n=[],a=0;a<4;a++){var t=Math.floor(Math.random()*e.length),r=e.splice(t,1);n.push(r)}var o=document.querySelector(".can-text1");o.innerHTML=n[0];var s=document.querySelector(".can-text2");s.innerHTML=n[1];var i=document.querySelector(".can-text3");i.innerHTML=n[2];var c=document.querySelector(".can-text4");c.innerHTML=n[3]}maintl=new TimelineMax,maintl.add("frame0",.01).set(".buy-your-personalized-can, .hash-tag, .buy-now-button",{autoAlpha:0},"frame0").to(".stage",.2,{autoAlpha:1,onStart:e},"frame0").add("frame1","+=.5").staggerFrom(".can-4, .can-3, .can-2, .can-1",.5,{y:-384,ease:Power1.easeIn},.1,"frame1").set(".can-0",{y:0},"frame1").seek(0);for(var c=document.querySelectorAll(".can-text"),u=0;u<c.length;u++){var l=c[u];if(l.offsetWidth>105){var m=105/l.offsetWidth;TweenMax.set(l,{scale:m,transformOrigin:"0% 50%"})}else TweenMax.set(l,{width:110})}var d=document.querySelector(".enterName");d.addEventListener("focus",n),d.addEventListener("keydown",e);var f=document.querySelector(".submit-button"),y=document.querySelector(".can-0 .can-text"),v=new TimelineMax;v.add("frame0").to(".can-1, .can-2, .can-3, .can-4",.5,{y:400,ease:Power1.easeIn},"frame0").to(".personalize-your-own-can, .submit-button",.5,{autoAlpha:0},"frame0").to(".can-0",1,{y:216,ease:Back.easeOut},"frame0+=.3").to(".can-0",.5,{rotation:-90,scale:1.3,tranformOrigin:"50% 50%",force3D:!0},"frame0+=.8").to(".enterName, .input-box",1,{y:200,ease:Back.easeOut},"frame0+=.3").to(".enterName, .input-box",.25,{autoAlpha:0,onUpdate:t},"frame0").add("frame1").to(".buy-your-personalized-can, .hash-tag, .buy-now-button",.5,{autoAlpha:1,scale:1},"frame1").from(".make-another-can-button",.5,{y:30,autoAlpha:0,ease:Power2.easeOut},"frame1+=.75").seek(0).pause();var h=document.querySelector(".make-another-can-button");h.addEventListener("click",o),i()}();