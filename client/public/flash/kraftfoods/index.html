<html>
	<head>
		<script src='../ruffle.js'></script>
		<script type='text/javascript'>
			var url;
			var player;

			function getResponsiveSize(baseWidth, baseHeight) {
				const vw = window.innerWidth;
				const vh = window.innerHeight;
				const aspect = baseWidth / baseHeight;
				// If viewport is larger than base, use base size
				if (vw >= baseWidth && vh >= baseHeight) {
					return {
						width: baseWidth,
						height: baseHeight
					};
				}
				// Otherwise, scale down to fit viewport
				let width = Math.min(baseWidth, vw * 0.95);
				let height = width / aspect;
				if (height > vh * 0.85) {
					height = vh * 0.85;
					width = height * aspect;
				}
				return {
					width,
					height
				};
			}

			function setPlayerSize(player, baseWidth, baseHeight) {
				const {
					width,
					height
				} = getResponsiveSize(baseWidth, baseHeight);
				player.style.width = width + "px";
				player.style.height = height + "px";
				player.style.maxWidth = "100vw";
				player.style.maxHeight = "100vh";
			}

			function init() {
				url = "swf/passwords_jeopardy.swf";
				window.RufflePlayer = window.RufflePlayer || {};
				var container = document.getElementById("swfcontainer");
				var ruffle = window.RufflePlayer.newest();
				player = ruffle.createPlayer();
				container.appendChild(player);
				window.RufflePlayer.config = {
					autoPlay: true,
					base: "./",
					logLevel: "error",
					publicPath: "../",
					showSwfDownload: true,
					warnOnUnsupportedContent: true,
				};
				player.load(url);
				// Set initial size
				setPlayerSize(player, 800, 600);
				// Update size on window resize
				window.addEventListener('resize', function () {
					setPlayerSize(player, 800, 600);
				});
				player.style.display = "block";
				player.style.margin = "0 auto";
				player.style.position = "relative";
				player.style.left = "0";
				player.style.top = "0";
				player.style.transform = "none";
				player.style.maxWidth = "100vw";
				player.style.maxHeight = "100vh";
				player.style.width = width + "px";
				player.style.height = height + "px";
			}
		</script>
		<title>IDEA Masters Online Seminar</title>
	</head>
	<body onload="init();">
		
		<div id="swfcontainer" width="800" height="600" align="center" scale="showAll">
			<div class='cover' style='position: absolute; width: 800px; height: 100px; background-color: #FFFFFF00; z-index: 2; left: 50%; transform: translateX(-50%);'></div>
		</div>
	</body>
</html>